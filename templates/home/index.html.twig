{% extends 'base.html.twig' %}

{% block title %}Liens index{% endblock %}

{% block body %}
<h1>Liens index</h1>

<div class="liens-grid">
    {% for lien in liens %}
        <div class="lien-card">
            <h2 class="lien-title">{{ lien.lienTitre }}</h2>
            <p class="lien-desc">{{ lien.lienDesc }}</p>
            <a href="{{ lien.lienUrl }}" target="_blank" class="lien-link">Visiter le lien</a>
            <div class="lien-actions">
                <a href="{{ path('app_liens_show', {'id': lien.id}) }}" class="btn-action">Voir</a>
                <a href="{{ path('app_liens_edit', {'id': lien.id}) }}" class="btn-action">Modifier</a>
            </div>
        </div>
    {% else %}
        <p>Aucun lien disponible.</p>
    {% endfor %}
</div>

<a href="{{ path('app_liens_new') }}" class="btn-main">Créer un nouveau lien</a>
<br><br>

{% if is_granted('ROLE_USER') %}
    <a href="{{ path('app_logout') }}" class="btn-main">Déconnexion</a>
{% else %}
    <a href="{{ path('app_login') }}" class="btn-main">Connexion</a>
{% endif %}

{% if is_granted('ROLE_ADMIN') %}
    <a href="{{ path('app_admin') }}" class="btn-main">Administration</a>
{% endif %}
{% endblock %}
